<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>WaySound</title>
        <!-- CSS -->
        <link rel="stylesheet" href="../css/style.css" />
        <link rel="stylesheet" href="../css/planos.css" />
        <link rel="stylesheet" href="../css/publicar.css" />
        <link rel="stylesheet" href="../css/player.css" />
        <!-- FONTE -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
            rel="stylesheet"
        />

        <!-- ICONE -->
        <link
            rel="shortcut icon"
            href="../../imgs/logos/logo-p-comfundo.png"
            type="image/x-icon"
        />
    </head>

    <body>
        <!-- Tela de carregamento -->
        <div id="data-container">
            <div id="loading-screen">Carregando dados...
                <div id="loading-screen-bolhinha">
                    <div class="bolhinha" style="--i: 1"></div>
                    <div class="bolhinha" style="--i: 1.3"></div>
                    <div class="bolhinha" style="--i: 1.6"></div>
                </div>
            </div>
        </div>

        <div class="container">
        <header class="header">
            <div id="plano" class="planos">
                <button class="planos-button">
                    <a href="planos.html">Planos</a>
                </button>
            </div>
            <div id="perfil" class="perfil">
                <img src="../../imgs/perfil.svg" class="icone-perf" id="perfilImg">
                <div class="perfil-links" id="perfilLinks">
                    <a href="./config-user.html" class="perfil-link">Configurações</a>
                    <a id="sair" href="../../index.html" class="perfil-link">Sair</a>
                </div>
            </div>
        </header>
            <aside>
                <a
                    href="sobre.html"
                    style="
                        display: flex;
                        flex-direction: column;
                        align-items: end;
                    "
                >
                    <picture>
                        <source
                            media="(max-width: 600px)"
                            srcset="../../imgs/logos//logo-pequena.png"
                        />
                        <source
                            media="(max-width: 1024px)"
                            srcset="../../imgs/logos/logo-media.png"
                        />
                        <img
                            src="../../imgs/logos/logo-grande.png"
                            class="logo-responsiva"
                        />
                    </picture>
                </a>

            <ul class="list">
                <li class="list-item">
                    <button class="list-button">
                        <a href="../../index.html" class="list-link">
                            <img src="../../imgs/Home.svg" class="icone">Início
                        </a>
                    </button>
                </li>

                <li class="list-item">
                    <button class="list-button">
                        <a href="./pesquisa.html" class="list-link">
                            <img src="../../imgs/Pesquisar.svg" class="icone">Pesquisar
                        </a>
                    </button>
                </li>

                <li class="list-item playLibrary">
                    <button class="list-button">
                        <a href="" class="list-link linkConta">
                            <img src="../../imgs/playlists.svg" class="icone">
                        </a>
                    </button>
                </li>

                <li class="list-item list-playlist">
                    <p>Biblioteca</p>
                    <hr>
                </li>

                <li class="list-item playlist-add">
                    <button class="list-button">
                        <a href="livraria.html" class="list-link linkConta">
                            <img src="../../imgs/playlists.svg" class="icone">Playlists/Albuns
                        </a>
                    </button>
                </li>
                
                <li class="list-item list-playlist">
                    <p>Publicar</p>
                    <hr />
                </li>

                <li class="list-item playlist-add">
                    <button class="list-button">
                        <a class="list-link linkConta" href="./publicacoes.html">
                          <img src="../../imgs/adcionar.svg" class="icone">Publicar músicas
                        </a>
                    </button>
                </li>  

                <li class="list-item conta-list">
                    <button class="list-button">
                        <a href="" class="list-link linkConta">
                            <img src="../../imgs/perfil.svg" class="icone"></ion-icon>
                        </a>
                    </button>
                </li>
            </ul>
            </aside>
            <main>
                <!-- Botão de publicar com ícone -->
                <button class="publicar" id="publicar">
                    Publicar
                    <img
                        src="../../imgs/adcionar.svg"
                        class="icone"
                        alt="Ícone adicionar"
                    />
                </button>

                <div id="musicList">
                    <!-- Cards de músicas aparecerão aqui -->
                </div>

                <!-- Popup -->
                <div class="popup-overlay" id="popupOverlay">
                    <form class="popup" id="formMusic" enctype="multipart/form-data">
                        <h2 class="pop-title">Adicionar Música</h2>
                        
                        <input
                            type="text"
                            id="nomeMusica"
                            placeholder="Nome da música"
                            autocomplete="off"
                        />
                        <input
                            type="text"
                            id="nomeArtista"
                            placeholder="Artista"
                            autocomplete="off"
                            disabled
                            />

                        <label for="imgUrl">Selecionar foto da música</label>
                        <div class="file-input-wrapper">
                            <div id="imgFileName" class="file-name"></div>
                            <button
                                type="button"
                                onclick="document.getElementById('imgUrl').click()"
                                id="btnSelectImg"
                                class="file-btn"
                                name="file"
                            >
                                Escolher imagem
                            </button>
                            <input
                                type="file"
                                accept="image/*"
                                id="imgUrl"
                                style="display: none"
                            />
                        </div>
                            
                        <label for="musicaAudio"
                            >Selecione o arquivo mp3 da música</label
                        >
                        <div class="file-input-wrapper">
                            <div id="audioFileName" class="file-name"></div>
                            <button
                                type="button"
                                onclick="document.getElementById('musicaAudio').click()"
                                id="btnSelectAudio"
                                class="file-btn"
                                name="file"
                            >
                                Escolher áudio
                            </button>
                            <input
                                type="file"
                                accept=".mp3,audio/mpeg"
                                id="musicaAudio"
                                style="display: none"
                            />
                        </div>

                        <div class="botoes-add-del">
                            <button class="btn-add" id="btn-add" type="submit">
                                Adicionar
                            </button>
                            <button class="btn-cancel" id="btn-cancel" type="button">
                                Cancelar
                            </button>
                        </div>
                    </form>
                </div>
            </main>

            <div class="playerDisplay">
                <div class="playerMusic">
                    <figure class="playerIcon esqueleto"><img src=""></figure>
                    <div class="playerMusic-text">
                        <p id="playerMusic-titulo" class="playerMusic-titulo esqueleto"></p>
                        <p id="playerMusic-subtitulo" class="playerMusic-subtitulo esqueleto"></p>
                    </div>
                </div>
                <div class="playPainel">
                    <div class="playerControl">
                        <!-- VOLTAR -->
                        <a class="player" id="skipBack"><ion-icon name="play-back"></ion-icon></a>
                        <!-- PAUSE -->
                        <a class="player" id="pause" style="display: none;"><ion-icon name="pause"></ion-icon></a>
                        <!-- PLAY -->
                        <a class="player" id="play"><ion-icon name="play"></ion-icon></a>
                        <!-- AVANCAR -->
                        <a class="player" id="skipForward"><ion-icon name="play-forward"></ion-icon></a>
                    </div>
    
                    <div class="playerTime">
                        <p id="tempoAtual">0:00</p>
                        
                        <div id="barraFundo">
                            <div id="barraProgresso"></div>
                        </div>
    
                        <p id="tempoTotal">0:00</p>
                    </div>
                </div>
                <div class="playerVolume"></div>
            </div>

            <audio id="audioSite">
                <source src="" type="audio/mpeg">
            </audio>
        </div>

        <script type="module" src="../js/usuarioService.js"></script>
        <script type="module" src="../js/musicaService.js"></script>
        <script
            type="module"
            src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
        ></script>
        <script
            nomodule
            src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
        ></script>
    </body>
</html>
