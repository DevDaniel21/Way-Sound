<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WaySound</title>
    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/publicar.css">
    <link rel="stylesheet" href="../css/player.css">
    <!-- FONTE -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- ICONE -->
    <link rel="shortcut icon" href="../../imgs/logos/logo-pequena.png" type="image/x-icon">

</head>

<body>
    <div class="container">
        <header>
            <div class="perfil">
                <img src="../../imgs/perfil.svg" class="icone">
                <div class="perfil-links">
                    <a href="config-user.html" class="perfil-link">Configurações</a>
                    <a href="../../index.html" class="perfil-link">Sair</a>
                </div>
            </div>

        </header>
        <aside>
            <a href="sobre.html">
                <picture>
                    <source media="(max-width: 600px)" srcset="../../imgs/logo-pequena.png">
                    <source media="(max-width: 1024px)" srcset="../../imgs/logos/logo-media.png">
                    <img src="../../imgs/logos/logo-grande.png" class="logo-responsiva">
                </picture>
            </a>

            <ul class="list">
                <li class="list-item">
                    <button class="list-button">
                        <a href="index.html" class="list-link">
                        <img src="../../imgs/Home.svg" class="icone">Início
                        </a>
                    </button>
                </li>
                
                <li class="list-item">
                    <button class="list-button">
                        <a href="src/html/pesquisa.html" class="list-link">
                        <img src="../../imgs/Pesquisar.svg" class="icone">Pesquisar
                        </a>
                    </button>
                </li>
                
                <li class="list-item playLibrary">
                    <button class="list-button">
                        <a href="index.html" class="list-link">
                        <img src="../../imgs/playlists.svg" class="icone">
                        </a>
                    </button>
                </li>
                
                <li class="list-item list-playlist">
                    <p>Playlists</p>
                    <hr>
                </li>
                
                <li class="list-item conta-list">
                    <button class="list-button">
                        <a href="index.html" class="list-link">
                        <img src="../../imgs/perfil.svg" class="icone">
                        </a>
                    </button>
                </li>
                
                <li class="list-item playlist-add">
                    <button class="list-button">
                        <a href="playlist.html" class="list-link">
                        <img src="../../imgs/adcionar.svg" class="icone">Criar playlist
                        </a>
                    </button>
                </li>

                <li class="list-item list-playlist">
                    <p>Publicar</p>
                    <hr>
                </li>
                
                <li class="list-item playlist-add">
                    <button class="list-button">
                        <a href="publicacoes.html" class="list-link">
                        <img src="../../imgs/adcionar.svg" class="icone">Adicionar música
                        </a>
                    </button>
                </li>
            </ul>
        </aside>
        <main>
            <!-- Botão de publicar com ícone -->
            <a class="publicar" onclick="openPopup()">
              Publicar
              <img src="../../imgs/adcionar.svg" class="icone">
            </a>
          
            <div class="container-music">
              <div id="musicList"></div>
            </div>
          
            <!-- Popup -->
            <div class="popup-overlay" id="popupOverlay">
              <div class="popup">
                <h2 class="pop-title">Adicionar Música</h2>
                <input type="text" id="imgUrl" placeholder="URL da imagem">
                <input type="text" id="nomeMusica" placeholder="Nome da música">
                <input type="text" id="nomeArtista" placeholder="Artista/Banda">
                <input type="date" id="data">
                <input type="text" id="duracao" placeholder="Duração (ex: 03:15)">
                <input type="text" id="status" placeholder="Status (ex: Aprovado)">
                <div class="botoes-add-del">
                    <button class="btn-add" onclick="addMusica()">Adicionar</button>
                    <button class="btn-cancel" onclick="closePopup()">Cancelar</button>
                </div>
              </div>
            </div>
          
            <script>
              function openPopup() {
                document.getElementById('popupOverlay').style.display = 'flex';
              }
          
              function closePopup() {
                document.getElementById('popupOverlay').style.display = 'none';
                clearFields();
              }
          
              function clearFields() {
                document.getElementById('imgUrl').value = '';
                document.getElementById('nomeMusica').value = '';
                document.getElementById('nomeArtista').value = '';
                document.getElementById('data').value = '';
                document.getElementById('duracao').value = '';
                document.getElementById('status').value = '';
              }
          
              function addMusica() {
                const imgUrl = document.getElementById('imgUrl').value;
                const nomeMusica = document.getElementById('nomeMusica').value;
                const nomeArtista = document.getElementById('nomeArtista').value;
                const data = document.getElementById('data').value;
                const duracao = document.getElementById('duracao').value;
                const status = document.getElementById('status').value;
          
                const musicCard = `
                  <div class="card">
                    <img src="${imgUrl}" alt="Capa da música">
                    <div class="card-content">
                      <div class="column"><strong>Música</strong>${nomeMusica}</div>
                      <div class="column"><strong>Artista/Banda</strong>${nomeArtista}</div>
                      <div class="column"><strong>Data</strong>${new Date(data).toLocaleDateString()}</div>
                      <div class="column"><strong>Duração</strong>${duracao}</div>
                      <div class="column"><strong>Status</strong>${status}</div>
                    </div>
                  </div>
                `;
          
                document.getElementById('musicList').insertAdjacentHTML('beforeend', musicCard);
                closePopup();
              }
            </script>
          </main>
          
          
        <div class="playerDisplay">
            <div class="playerMusic">
                <figure class="playerIcon esqueleto"></figure>
                <div class="playerMusic-text">
                    <p class="playerMusic-titulo esqueleto"></p>
                    <p class="playerMusic-subtitulo esqueleto"></p>
                </div>
            </div>
            <div class="playPainel">
                <div class="playerControl">
                    <!-- VOLTAR -->
                    <a class="player" id="skipBack"><ion-icon name="play-back"></ion-icon></a>
                    <!-- PAUSE -->
                    <a class="player" id="pause" style="display: none;"><ion-icon name="pause"></ion-icon></a>
                    <!-- PLAY -->
                    <a class="player" id="play"><ion-icon name="play"></ion-icon></a>
                    <!-- AVANCAR -->
                    <a class="player" id="skipForward"><ion-icon name="play-forward"></ion-icon></a>
                </div>

                <div class="playerTime">
                    <p>00:00</p>
                    <hr>
                    <p>00:00</p>
                </div>
            </div>
            <div class="playerVolume"></div>
        </div>


        <audio src=""></audio>
    </div>

    <script src="js/main.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>

</html>